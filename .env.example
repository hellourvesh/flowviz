# FlowViz Environment Configuration
# Copy this file to .env and configure your settings

# =============================================================================
# AI MODEL CONFIGURATION (Choose ONE provider)
# =============================================================================

# Default AI provider to use: 'anthropic' or 'openai'
# Users can switch between providers in the UI settings
AI_PROVIDER=anthropic

# =============================================================================
# ANTHROPIC (CLAUDE) CONFIGURATION
# =============================================================================

# Your Anthropic API key for Claude AI analysis
# Get this from: https://console.anthropic.com/account/keys
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Optional: Custom Anthropic API base URL (for proxies or alternative endpoints)
# Default: https://api.anthropic.com
# ANTHROPIC_BASE_URL=https://api.anthropic.com

# Optional: Anthropic model to use
# Default: claude-sonnet-4-20250514 (Claude Sonnet 4)
# Tested with both Claude 3.5 and 4 - Claude 4 performs better with larger context window
# If cost is a concern, Claude 3.5 (claude-3-5-sonnet-20241022) can be used
# ANTHROPIC_MODEL=claude-sonnet-4-20250514

# =============================================================================
# OPENAI (CHATGPT) CONFIGURATION
# =============================================================================

# Your OpenAI API key for ChatGPT analysis
# Get this from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Optional: Custom OpenAI API base URL (for proxies or alternative endpoints)
# Default: https://api.openai.com/v1
# OPENAI_BASE_URL=https://api.openai.com/v1

# Optional: OpenAI model to use
# Default: gpt-4o (GPT-4 Omni - best for complex analysis with vision)
# Alternatives: gpt-4-turbo, gpt-4, gpt-3.5-turbo (cheaper but less accurate)
# OPENAI_MODEL=gpt-4o

# =============================================================================
# OPTIONAL: SERVER CONFIGURATION
# =============================================================================

# Server port (default: 3001)
PORT=3001

# Node environment: development | production (default: development)
NODE_ENV=development

# =============================================================================
# OPTIONAL: SECURITY CONFIGURATION
# =============================================================================

# Rate limiting (requests per time window)
RATE_LIMIT_ARTICLES=10        # Max article fetches per 15 minutes (default: 10)
RATE_LIMIT_IMAGES=50          # Max image fetches per 10 minutes (default: 50)
RATE_LIMIT_STREAMING=5        # Max AI streaming requests per 5 minutes (default: 5)

# Request size limits (in bytes for numeric values, or Express format like '10mb')
MAX_REQUEST_SIZE=10mb         # Max request body size (default: 10mb)
MAX_ARTICLE_SIZE=5242880      # Max article size in bytes (default: 5MB = 5242880)
MAX_IMAGE_SIZE=3145728        # Max image size in bytes (default: 3MB = 3145728)

# =============================================================================
# OPTIONAL: CORS CONFIGURATION
# =============================================================================

# Allowed origins for CORS (comma-separated)
# Default: http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173,http://127.0.0.1:3000
# Production example: https://yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. Copy this file: cp .env.example .env
# 2. Add at least ONE AI provider API key (Anthropic OR OpenAI)
# 3. Set AI_PROVIDER to your preferred provider ('anthropic' or 'openai')
# 4. Adjust other settings as needed (all optional with sensible defaults)
# 5. Start the server: npm run dev:full

# =============================================================================
# SECURITY NOTES
# =============================================================================

# - Never commit .env to version control (it's in .gitignore)
# - Keep API keys secure and rotate them regularly
# - All API calls happen server-side for maximum security
# - You can configure both providers and switch between them in the UI
# - Adjust rate limits based on your usage patterns
# - In production, set NODE_ENV=production and update ALLOWED_ORIGINS